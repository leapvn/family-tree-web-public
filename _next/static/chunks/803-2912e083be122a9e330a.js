(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[803],{5803:function(e,t,n){"use strict";n.d(t,{$_:function(){return Q},h4:function(){return f},or:function(){return W}});var s=n(6265),r=n(5893),i=n(8347),a=n(7294),c=n(9487),o=n(6178),l=n(8455),d=n(2020),m=n(1163),p=n(3706);function u(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,s)}return n}function h(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?u(Object(n),!0).forEach((function(t){(0,s.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):u(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var g=[{value:"en",label:"English",flag:"icons/ENG.png"},{value:"vi",label:"Ti\u1ebfng Vi\u1ec7t",flag:"icons/VIE.png"}],f=function(){(0,o.Z)().t;var e,t=(0,a.useState)(),n=t[0],s=t[1],u=(0,a.useState)(!1),f=(u[0],u[1]);(0,a.useEffect)((function(){s(g.find((function(e){return e.value===(sessionStorage.locale?sessionStorage.locale:"en")})))})),(0,a.useEffect)((function(){function e(){var e=document.querySelector(".account-form");if(window.innerWidth>775&&e){if(e.style.display="block",null!==window.sessionStorage.getItem("jhi-authenticationToken"))document.querySelector(".connected").style.display="block",document.querySelector(".login-form").style.display="none";f(!0)}}return window.addEventListener("resize",e),e(),function(){return window.removeEventListener("resize",e)}}),[]);var v=[{label:p.Z.t("global.menu.language"),options:g}];return(0,r.jsx)("div",{id:"header",children:(0,r.jsxs)(c.Z,{expand:"lg",className:"justify-content-between",children:[(0,r.jsxs)(c.Z.Brand,{href:"/".concat(null!==(e=null===n||void 0===n?void 0:n.value)&&void 0!==e?e:"vi"),children:[(0,r.jsx)("img",{src:"".concat("https://cdn.jsdelivr.net/gh/leapvn/family-tree-web-public@2.0.0","/icons/logo.png"),alt:"logo",height:"45px"}),(0,r.jsx)("span",{className:"navbar-title",children:p.Z.t("global.title")})]}),(0,r.jsxs)("div",{className:"d-flex",children:[(0,r.jsx)("div",{style:{width:"160px"},children:(0,r.jsx)(l.ZP,{options:v,value:n,components:{SingleValue:function(e){var t=e.children,n=(0,i.Z)(e,["children"]);return(0,r.jsx)(d.c.SingleValue,h(h({},n),{},{children:(0,r.jsxs)("div",{className:"d-flex align-items-center",children:[(0,r.jsx)("img",{src:"".concat("https://cdn.jsdelivr.net/gh/leapvn/family-tree-web-public@2.0.0","/").concat(n.data.flag),height:"16px",style:{margin:"0 4px"}}),(0,r.jsx)("div",{style:{fontSize:"14px",fontWeight:"600",alignSelf:"center",marginRight:4},children:t})]})}))},Option:function(e){var t=e.children,n=(0,i.Z)(e,["children"]);return(0,r.jsx)(d.c.Option,h(h({},n),{},{children:(0,r.jsxs)("div",{className:"d-flex justify-content-between",children:[(0,r.jsxs)("div",{className:"d-flex",children:[(0,r.jsx)("div",{className:"align-items-center",style:{margin:"0 4px"},children:(0,r.jsx)("img",{src:"".concat("https://cdn.jsdelivr.net/gh/leapvn/family-tree-web-public@2.0.0","/").concat(n.data.flag),height:"16px"})}),(0,r.jsx)("div",{style:{fontSize:"14px",fontWeight:"600",alignSelf:"center",margin:"0 4px"},children:t})]}),n.isSelected?(0,r.jsx)("div",{className:"align-items-center float-right",children:(0,r.jsx)("img",{src:"".concat("https://cdn.jsdelivr.net/gh/leapvn/family-tree-web-public@2.0.0","/icons/check-mark.png"),height:"12px"})}):null]})}))},IndicatorSeparator:function(){return null}},isSearchable:!1,formatGroupLabel:function(e){return(0,r.jsx)("div",{style:{color:"#838383",textTransform:"capitalize",fontSize:"11px",fontWeight:"600"},children:e.label})},onChange:function(e){var t=e.value;"/"==m.default.pathname?m.default.push(m.default.pathname+t):m.default.pathname.indexOf("[lang]")>=0&&m.default.push(m.default.pathname.replace("[lang]",t)),sessionStorage.locale=t},styles:{option:function(e,t){return h(h({},e),{},{backgroundColor:t.isSelected?"#F5F5F5":"white",paddingTop:"6px 12px",color:"#1C1614",":active":{backgroundColor:"#49A049"}})},menu:function(e,t){return h(h({},e),{},{borderRadius:"6px",border:"1px solid #E7E7E7"})},menuList:function(e,t){return h(h({},e),{},{paddingBottom:0,marginBottom:0})},group:function(e,t){return h(h({},e),{},{paddingTop:0})},container:function(e,t){return h(h({},e),{},{borderRadius:"6px"})}}})}),(0,r.jsx)("div",{className:"btn btn-success signin-btn ml-3",onClick:function(){var e=document.querySelector(".account-form");e&&(e.style.setProperty("display","block","important"),f(!0))},children:p.Z.t("login:form.button")})]})]})})},v=n(809),x=n.n(v),j=n(2447),b=n(4121),y=n(1229),w=n(4047),N=n(2700),Z="".concat("","/api"),O=function(){var e=(0,j.Z)(x().mark((function e(t){var n,s;return x().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n=t.status,e.next=4,t.json();case 4:if(s=e.sent,401!==n&&400!=n&&500!=n){e.next=7;break}throw{code:n,message:s};case 7:return e.abrupt("return",[s,null]);case 10:return e.prev=10,e.t0=e.catch(0),e.abrupt("return",[null,e.t0]);case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t){return e.apply(this,arguments)}}(),k=function(e){return[null,{code:500,message:e}]},P=function(){function e(){(0,w.Z)(this,e)}return(0,N.Z)(e,null,[{key:"get",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this.xhr(e,t,"GET")}},{key:"put",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this.xhr(e,t,"PUT")}},{key:"post",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this.xhr(e,t,"POST")}},{key:"delete",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this.xhr(e,t,"DELETE")}},{key:"xhr",value:function(e,t,n){e=0===e.indexOf("/")?"".concat(Z).concat(e):"".concat(Z,"/").concat(e);var s={method:n,headers:{"Content-Type":"application/json"}};return window.sessionStorage.token&&(s.headers.Authorization="Bearer ".concat(window.sessionStorage.token)),"GET"!==n?s.body=JSON.stringify(t):t&&(e="".concat(e,"?").concat(Object.keys(t).filter((function(e){return null!==t[e]})).map((function(e){return"".concat(e,"=").concat(t[e])})).join("&"))),fetch(e,s).then(O).catch(k)}}]),e}();function S(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,s)}return n}function E(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?S(Object(n),!0).forEach((function(t){(0,s.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):S(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var q=function e(){(0,w.Z)(this,e)};(0,s.Z)(q,"login",function(){var e=(0,j.Z)(x().mark((function e(t){var n,s,r,i,a;return x().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=(0,y.Z)({},t),e.prev=1,e.next=4,P.post("authenticate",E({},n));case 4:if(s=e.sent,r=(0,b.Z)(s,2),i=r[0],!(a=r[1])){e.next=10;break}throw a;case 10:return e.abrupt("return",i);case 13:throw e.prev=13,e.t0=e.catch(1),console.log("Get project detail err...",e.t0),e.t0;case 17:case"end":return e.stop()}}),e,null,[[1,13]])})));return function(t){return e.apply(this,arguments)}}()),(0,s.Z)(q,"register",function(){var e=(0,j.Z)(x().mark((function e(t){var n,s,r,i,a;return x().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=(0,y.Z)({},t),e.prev=1,e.next=4,P.post("register",E({},n));case 4:if(s=e.sent,r=(0,b.Z)(s,2),i=r[0],!(a=r[1])){e.next=10;break}throw a;case 10:return e.abrupt("return",i);case 13:throw e.prev=13,e.t0=e.catch(1),console.log("Get project detail err...",e.t0),e.t0;case 17:case"end":return e.stop()}}),e,null,[[1,13]])})));return function(t){return e.apply(this,arguments)}}()),(0,s.Z)(q,"resetPassword",function(){var e=(0,j.Z)(x().mark((function e(t){var n,s,r,i,a;return x().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=(0,y.Z)({},t),e.prev=1,e.next=4,P.post("account/reset-password/init",E({},n));case 4:if(s=e.sent,r=(0,b.Z)(s,2),i=r[0],!(a=r[1])){e.next=10;break}throw a;case 10:return e.abrupt("return",i);case 13:throw e.prev=13,e.t0=e.catch(1),console.log("Get project detail err...",e.t0),e.t0;case 17:case"end":return e.stop()}}),e,null,[[1,13]])})));return function(t){return e.apply(this,arguments)}}()),(0,s.Z)(q,"submitPasswordRecovery",function(){var e=(0,j.Z)(x().mark((function e(t){var n,s,r,i;return x().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,P.post("password-recovery/".concat(t));case 3:if(n=e.sent,s=(0,b.Z)(n,2),r=s[0],!(i=s[1])){e.next=9;break}throw i;case 9:return e.abrupt("return",r);case 12:throw e.prev=12,e.t0=e.catch(0),console.log("Post Password Recovery...",e.t0),e.t0;case 16:case"end":return e.stop()}}),e,null,[[0,12]])})));return function(t){return e.apply(this,arguments)}}()),(0,s.Z)(q,"submitResetPassword",function(){var e=(0,j.Z)(x().mark((function e(t){var n,s,r,i,a;return x().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=(0,y.Z)({},t),e.prev=1,e.next=4,P.post("reset-password",E({},n));case 4:if(s=e.sent,r=(0,b.Z)(s,2),i=r[0],!(a=r[1])){e.next=10;break}throw a;case 10:return e.abrupt("return",i);case 13:throw e.prev=13,e.t0=e.catch(1),console.log("Get project detail err...",e.t0),e.t0;case 17:case"end":return e.stop()}}),e,null,[[1,13]])})));return function(t){return e.apply(this,arguments)}}());var L=n(2439);function C(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,s)}return n}function D(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?C(Object(n),!0).forEach((function(t){(0,s.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):C(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var G=function(e){(0,o.Z)().t;var t=(0,L.cI)(),n=t.register,s=t.handleSubmit,i=(t.watch,t.formState.errors,(0,m.useRouter)()),c=(0,a.useState)(!1),l=c[0],d=c[1],u=(0,a.useState)(""),h=u[0],g=u[1],f=function(){var e=(0,j.Z)(x().mark((function e(t){var n;return x().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return d(!1),g(""),e.prev=2,e.next=5,q.login(t);case 5:n=e.sent,window.sessionStorage.setItem("jhi-authenticationToken",'"'.concat(n.id_token,'"')),i.replace("/v1/"),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(2),d(!0);case 13:case"end":return e.stop()}}),e,null,[[2,10]])})));return function(t){return e.apply(this,arguments)}}();return(0,a.useEffect)((function(){var e=window.location.search,t=new URLSearchParams(e).get("socialLoginFailure");t&&g(t)}),[]),(0,r.jsxs)("div",{className:"form-wrapper account-form",children:[(0,r.jsx)("div",{className:"close-btn",children:(0,r.jsx)("button",{type:"button","aria-label":"Close",onClick:function(){var e=document.querySelector(".form-wrapper");e&&(e.style.display="none")},children:"\xd7"})}),(0,r.jsx)("div",{className:"connected",children:(0,r.jsx)("a",{href:"/v1",children:p.Z.t("login:messages.connected")})}),l&&(0,r.jsx)("div",{className:"alert alert-danger",children:p.Z.t("login:messages.error.authentication")}),h&&(0,r.jsx)("div",{className:"alert alert-danger",children:p.Z.t("login:messages.error.".concat(h))}),(0,r.jsxs)("form",{onSubmit:s(f),className:"login-form",children:[(0,r.jsx)("div",{className:"form-group",children:(0,r.jsx)("input",D({type:"text",className:"form-control",name:"username",id:"username","data-cy":"username",placeholder:p.Z.t("login:form.username-placeholder")},n("username",{required:!0})))}),(0,r.jsx)("div",{className:"form-group",children:(0,r.jsx)("input",D({type:"password",className:"form-control",name:"password",id:"password","data-cy":"password",placeholder:p.Z.t("login:form.password-placeholder")},n("password",{required:!0})))}),(0,r.jsx)("button",{className:"btn btn-success",type:"submit",children:p.Z.t("login:form.button")}),(0,r.jsxs)("div",{className:"row align-items-center",style:{marginBottom:"8px"},children:[(0,r.jsx)("div",{className:"col text-center",children:(0,r.jsx)("a",{onClick:function(){e.onChangeForm("register")},children:p.Z.t("register:form.button")})}),(0,r.jsx)("div",{className:"col text-center border-left border-dark",children:(0,r.jsx)("a",{onClick:function(){e.onChangeForm("reset-password")},children:p.Z.t("login:password.forgot")})})]})]})]})},T=n(9669),F=n.n(T),K=function(e){return(0,r.jsx)("div",{className:"text-danger",children:e.message})},R="https://www.jhipster.tech/problem",z="".concat(R,"/email-already-used"),A="".concat(R,"/login-already-used"),I=n(6966);function M(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,s)}return n}function V(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?M(Object(n),!0).forEach((function(t){(0,s.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):M(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var _=function(e){(0,o.Z)().t;var t,n,s,i,c,l,d,u,h,g,f,v,b,y,w,N,Z,O={gender:"MALE",login:"",email:"",firstName:"",lastName:"",password:"",confirmPassword:"",langKey:null!==(t=sessionStorage.locale)&&void 0!==t?t:"en",shareKey:""},k={emailExists:!1,userExists:!1,unknown:!1,doesNotMatch:!1},P={withShareKey:!1,withoutShareKey:!1},S=(0,L.cI)({defaultValues:O}),E=S.register,q=S.handleSubmit,C=S.setValue,D=S.formState.errors,G=S.reset,T=(0,a.useState)(k),R=T[0],M=T[1],_=(0,a.useState)(P),B=_[0],$=_[1],U=(0,a.useState)(!1),W=U[0],J=U[1],H=function(){var e=(0,j.Z)(x().mark((function e(t){return x().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(M(k),$(P),t.password===t.confirmPassword){e.next=5;break}return M(V(V({},R),{},{doesNotMatch:!0})),e.abrupt("return");case 5:return e.prev=5,e.next=8,F().post("".concat("","/api/register"),t);case 8:e.sent,t.shareKey?$(V(V({},B),{},{withShareKey:!0})):$(V(V({},B),{},{withoutShareKey:!0})),G(O),J(!1),e.next=17;break;case 14:e.prev=14,e.t0=e.catch(5),Q(e.t0.response);case 17:case"end":return e.stop()}}),e,null,[[5,14]])})));return function(t){return e.apply(this,arguments)}}(),Q=function(e){400===e.status&&e.data.type===A?M(V(V({},e),{},{userExists:!0})):400===e.status&&e.data.type===z?M(V(V({},e),{},{emailExists:!0})):M(V(V({},e),{},{unknown:!0}))},X=function(){var e=(0,j.Z)(x().mark((function e(t){var n;return x().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,F().get("".concat("","/api/people/shareKey/").concat(t));case 2:(n=e.sent).data?(C("gender",n.data.sex),C("firstName",n.data.firstName),C("lastName",n.data.lastName),C("email",n.data.email),J(!0)):J(!1);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return(0,a.useEffect)((function(){var e=window.location.search,t=new URLSearchParams(e),n=t.get("key"),s=t.get("lang");n&&(C("shareKey",n),X(n)),I.M.includes(s)&&(m.default.push("/".concat(s,"/?key=").concat(n)),sessionStorage.locale=s)}),[]),(0,a.useEffect)((function(){var e;C("langKey",null!==(e=sessionStorage.locale)&&void 0!==e?e:"en")}),[sessionStorage.locale]),(0,r.jsxs)("div",{className:"form-wrapper account-form",children:[(0,r.jsx)("div",{className:"close-btn",children:(0,r.jsx)("button",{type:"button","aria-label":"Close",onClick:function(){var e=document.querySelector(".form-wrapper");e&&(e.style.display="none")},children:"\xd7"})}),B.withoutShareKey&&(0,r.jsx)("div",{className:"alert alert-success",children:p.Z.t("register:messages.success-without-key")}),B.withShareKey&&(0,r.jsx)("div",{className:"alert alert-success",children:p.Z.t("register:messages.success-with-key")}),R.emailExists&&(0,r.jsx)("div",{className:"alert alert-danger",children:p.Z.t("register:messages.error.emailexists")}),R.userExists&&(0,r.jsx)("div",{className:"alert alert-danger",children:p.Z.t("register:messages.error.userexists")}),R.unknown&&(0,r.jsx)("div",{className:"alert alert-danger",children:p.Z.t("register:messages.error.fail")}),R.doesNotMatch&&(0,r.jsx)("div",{className:"alert alert-danger",children:p.Z.t("global.messages.error.dontmatch")}),(0,r.jsxs)("form",{onSubmit:q(H),children:[(0,r.jsxs)("div",{className:"form-group",children:[(0,r.jsx)("input",V({type:"text",className:"form-control",name:"login",id:"login","data-cy":"login",placeholder:p.Z.t("global.form.username-placeholder")},E("login",{required:!0,minLength:1,maxLength:50,pattern:/^[a-zA-Z0-9!$&*+=?^_`{|}~.-]+@[a-zA-Z0-9-]+(?:\\.[a-zA-Z0-9-]+)*$|^[_.@A-Za-z0-9-]+$/}))),"required"===(null===D||void 0===D||null===(n=D.login)||void 0===n?void 0:n.type)&&(0,r.jsx)(K,{message:p.Z.t("register:messages.validate.login.required")}),"minLength"===(null===D||void 0===D||null===(s=D.login)||void 0===s?void 0:s.type)&&(0,r.jsx)(K,{message:p.Z.t("register:messages.validate.login.minlength")}),"maxLength"===(null===D||void 0===D||null===(i=D.login)||void 0===i?void 0:i.type)&&(0,r.jsx)(K,{message:p.Z.t("register:messages.validate.login.maxlength")}),"pattern"===(null===D||void 0===D||null===(c=D.login)||void 0===c?void 0:c.type)&&(0,r.jsx)(K,{message:p.Z.t("register:messages.validate.login.pattern")})]}),(0,r.jsxs)("div",{className:"form-group",children:[(0,r.jsx)("input",V({type:"text",className:"form-control",name:"email",id:"email","data-cy":"email",placeholder:p.Z.t("global.form.email-placeholder"),disabled:W},E("email",{required:!0,maxLength:256,minLength:4,pattern:/^\w+([\.-]?\w+)*@\w+([\.-]?\w+)*(\.\w{2,3})+$/}))),"required"===(null===D||void 0===D||null===(l=D.email)||void 0===l?void 0:l.type)&&(0,r.jsx)(K,{message:p.Z.t("global.messages.validate.email.required")}),"minLength"===(null===D||void 0===D||null===(d=D.email)||void 0===d?void 0:d.type)&&(0,r.jsx)(K,{message:p.Z.t("global.messages.validate.email.minlength")}),"maxLength"===(null===D||void 0===D||null===(u=D.email)||void 0===u?void 0:u.type)&&(0,r.jsx)(K,{message:p.Z.t("global.messages.validate.email.maxlength")}),"pattern"===(null===D||void 0===D||null===(h=D.email)||void 0===h?void 0:h.type)&&(0,r.jsx)(K,{message:p.Z.t("global.messages.validate.email.invalid")})]}),(0,r.jsxs)("div",{className:"form-group",children:[(0,r.jsx)("input",V({type:"password",className:"form-control",name:"password",id:"password","data-cy":"password",placeholder:p.Z.t("global.form.newpassword-placeholder")},E("password",{required:!0,maxLength:50,minLength:4}))),"required"===(null===D||void 0===D||null===(g=D.password)||void 0===g?void 0:g.type)&&(0,r.jsx)(K,{message:p.Z.t("global.messages.validate.newpassword.required")}),"minLength"===(null===D||void 0===D||null===(f=D.password)||void 0===f?void 0:f.type)&&(0,r.jsx)(K,{message:p.Z.t("global.messages.validate.newpassword.minlength")}),"maxLength"===(null===D||void 0===D||null===(v=D.password)||void 0===v?void 0:v.type)&&(0,r.jsx)(K,{message:p.Z.t("global.messages.validate.newpassword.maxlength")})]}),(0,r.jsxs)("div",{className:"form-group",children:[(0,r.jsx)("input",V({type:"password",className:"form-control",name:"confirmPassword",id:"confirmPassword","data-cy":"confirmPassword",placeholder:p.Z.t("global.form.confirmpassword-placeholder")},E("confirmPassword",{required:!0,maxLength:50,minLength:4}))),"required"===(null===D||void 0===D||null===(b=D.password)||void 0===b?void 0:b.type)&&(0,r.jsx)(K,{message:p.Z.t("global.messages.validate.confirmpassword.required")}),"minLength"===(null===D||void 0===D||null===(y=D.password)||void 0===y?void 0:y.type)&&(0,r.jsx)(K,{message:p.Z.t("global.messages.validate.confirmpassword.minlength")}),"maxLength"===(null===D||void 0===D||null===(w=D.password)||void 0===w?void 0:w.type)&&(0,r.jsx)(K,{message:p.Z.t("global.messages.validate.confirmpassword.maxlength")})]}),(0,r.jsxs)("div",{className:"form-group",children:[(0,r.jsx)("input",V({type:"text",className:"form-control",name:"firstName",id:"firstName","data-cy":"firstName",disabled:W,placeholder:p.Z.t("global.form.firstname-placeholder")},E("firstName",{required:!0}))),"required"===(null===D||void 0===D||null===(N=D.firstName)||void 0===N?void 0:N.type)&&(0,r.jsx)(K,{message:p.Z.t("register:messages.validate.firstname.required")})]}),(0,r.jsxs)("div",{className:"form-group",children:[(0,r.jsx)("input",V({type:"text",className:"form-control",name:"lastName",id:"lastName",disabled:W,"data-cy":"lastName",placeholder:p.Z.t("global.form.lastname-placeholder")},E("lastName",{required:!0,maxLength:256,minLength:1}))),"required"===(null===D||void 0===D||null===(Z=D.lastName)||void 0===Z?void 0:Z.type)&&(0,r.jsx)(K,{message:p.Z.t("register:messages.validate.lastname.required")})]}),(0,r.jsx)("div",{className:"form-group form-check-gender",children:(0,r.jsxs)("div",{className:"row mx-0",children:[(0,r.jsxs)("div",{className:"col form-check",children:[(0,r.jsx)("input",V({className:"form-check-input",id:"inlineRadioMale",type:"radio",name:"gender",value:"MALE",disabled:W},E("gender"))),(0,r.jsx)("label",{className:"form-check-label",children:p.Z.t("register:form.male")})]}),(0,r.jsxs)("div",{className:"form-check col",children:[(0,r.jsx)("input",V({className:"form-check-input",id:"inlineRadioFemale",type:"radio",name:"gender",value:"FEMALE",disabled:W},E("gender"))),(0,r.jsx)("label",{className:"form-check-label",children:p.Z.t("register:form.female")})]})]})}),(0,r.jsx)("button",{className:"btn btn-success",type:"submit",children:p.Z.t("register:form.button")}),(0,r.jsx)("div",{className:"align-items-center",style:{marginBottom:"8px"},children:(0,r.jsxs)("div",{className:"text-center",children:[(0,r.jsxs)("span",{children:[p.Z.t("global.messages.info.authenticated.prefix")," "]}),(0,r.jsx)("a",{onClick:function(){e.onChangeForm("login")},children:p.Z.t("login:form.button")})]})})]})]})};function B(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,s)}return n}function $(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?B(Object(n),!0).forEach((function(t){(0,s.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):B(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var U=function(e){(0,o.Z)().t;var t,n,s,i,c=(0,L.cI)({defaultValues:{email:""}}),l=c.register,d=c.handleSubmit,m=c.reset,u=c.formState.errors,h=(0,a.useState)(!1),g=h[0],f=h[1],v=(0,a.useState)(!1),b=v[0],y=v[1],w=function(){var e=(0,j.Z)(x().mark((function e(t){return x().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,F()({method:"post",url:"".concat("","/api/account/reset-password/init"),headers:{"Content-Type":"text/plain"},data:t.email});case 3:e.sent,y(!0),f(!1),m({email:""}),e.next=13;break;case 9:e.prev=9,e.t0=e.catch(0),y(!1),f(!0);case 13:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t){return e.apply(this,arguments)}}();return(0,r.jsxs)("div",{className:"form-wrapper account-form",children:[(0,r.jsx)("div",{className:"close-btn",children:(0,r.jsx)("button",{type:"button","aria-label":"Close",onClick:function(){var e=document.querySelector(".form-wrapper");e&&(e.style.display="none")},children:"\xd7"})}),b&&(0,r.jsx)("div",{className:"alert alert-success",children:p.Z.t("global.reset-password.message.success")}),g&&(0,r.jsx)("div",{className:"alert alert-danger",children:p.Z.t("global.reset-password.message.error")}),(0,r.jsxs)("form",{onSubmit:d(w),children:[(0,r.jsxs)("div",{className:"form-group",children:[(0,r.jsx)("input",$({type:"text",className:"form-control",name:"email",id:"email","data-cy":"email",placeholder:p.Z.t("global.form.email-placeholder")},l("email",{required:!0,maxLength:256,minLength:4,pattern:/^\w+([\.-]?\w+)*@\w+([\.-]?\w+)*(\.\w{2,3})+$/}))),"required"===(null===u||void 0===u||null===(t=u.email)||void 0===t?void 0:t.type)&&(0,r.jsx)(K,{message:p.Z.t("global.messages.validate.email.required")}),"minLength"===(null===u||void 0===u||null===(n=u.email)||void 0===n?void 0:n.type)&&(0,r.jsx)(K,{message:p.Z.t("global.messages.validate.email.minlength")}),"maxLength"===(null===u||void 0===u||null===(s=u.email)||void 0===s?void 0:s.type)&&(0,r.jsx)(K,{message:p.Z.t("global.messages.validate.email.maxlength")}),"pattern"===(null===u||void 0===u||null===(i=u.email)||void 0===i?void 0:i.type)&&(0,r.jsx)(K,{message:p.Z.t("global.messages.validate.email.invalid")})]}),(0,r.jsx)("button",{className:"btn btn-success",type:"submit",children:p.Z.t("global.reset-password.button")}),(0,r.jsx)("div",{className:"align-items-center",style:{marginBottom:"8px"},children:(0,r.jsxs)("div",{className:"text-center",children:[(0,r.jsx)("span",{children:p.Z.t("global.messages.info.authenticated.prefix")}),(0,r.jsx)("a",{onClick:function(){e.onChangeForm("login")},children:p.Z.t("login:form.button")})]})})]})]})},W=function(){(0,o.Z)().t;var e=(0,a.useState)("login"),t=e[0],n=e[1],s=(0,a.useState)(!0),i=s[0],c=s[1],l=function(e){n(e)};(0,a.useEffect)((function(){var e=window.location.search;new URLSearchParams(e).get("key")&&n("register")}),[]),(0,a.useEffect)((function(){var e=document.querySelector(".account-form");e&&!i&&e.style.setProperty("display","block","important"),c(!1)}),[t]);return(0,r.jsxs)("div",{id:"main",children:[(0,r.jsx)(f,{}),(0,r.jsxs)("section",{id:"first-section",children:["login"===t&&(0,r.jsx)(G,{onChangeForm:l}),"register"===t&&(0,r.jsx)(_,{onChangeForm:l}),"reset-password"===t&&(0,r.jsx)(U,{onChangeForm:l}),(0,r.jsx)("img",{id:"cover-section-desktop",src:"".concat("https://cdn.jsdelivr.net/gh/leapvn/family-tree-web-public@2.0.0","/icons/first-section.png"),alt:"Google play logo",width:"100%"}),(0,r.jsx)("img",{id:"cover-section-ipad",src:"".concat("https://cdn.jsdelivr.net/gh/leapvn/family-tree-web-public@2.0.0","/icons/first-section-ipad.png"),alt:"Google play logo",width:"100%"}),(0,r.jsx)("img",{id:"cover-section-mobile",src:"".concat("https://cdn.jsdelivr.net/gh/leapvn/family-tree-web-public@2.0.0","/icons/first-section-mobile.png"),alt:"Google play logo",width:"100%"})]}),(0,r.jsxs)("section",{id:"second-section",children:[(0,r.jsxs)("div",{className:"second-section-title align-items-center d-flex flex-column mx-auto",children:[(0,r.jsx)("h2",{className:"title text-center",children:p.Z.t("landingPage:second-section.title-container.title")}),(0,r.jsx)("div",{className:"description text-center",children:p.Z.t("landingPage:second-section.title-container.description")})]}),(0,r.jsx)("div",{className:"second-section-description",children:(0,r.jsxs)("div",{className:"row max-auto",children:[(0,r.jsx)("div",{className:"col-12 col-md content-wrapper m-md-0 my-4",children:(0,r.jsxs)("div",{className:"wrapper",children:[(0,r.jsx)("div",{className:"content-img",children:(0,r.jsx)("img",{src:"".concat("https://cdn.jsdelivr.net/gh/leapvn/family-tree-web-public@2.0.0","/icons/second-section-1.png"),alt:"Google play logo",width:"100%"})}),(0,r.jsx)("h3",{className:"title text-center",children:p.Z.t("landingPage:second-section.description-container.first-description.title")}),(0,r.jsx)("p",{className:"description text-center",children:p.Z.t("landingPage:second-section.description-container.first-description.description")})]})}),(0,r.jsx)("div",{className:"col-12 col-md content-wrapper m-md-0 my-4",children:(0,r.jsxs)("div",{className:"wrapper",children:[(0,r.jsx)("div",{className:"content-img",children:(0,r.jsx)("img",{src:"".concat("https://cdn.jsdelivr.net/gh/leapvn/family-tree-web-public@2.0.0","/icons/second-section-2.png"),alt:"Google play logo",width:"100%"})}),(0,r.jsx)("h3",{className:"title text-center",children:p.Z.t("landingPage:second-section.description-container.second-description.title")}),(0,r.jsx)("p",{className:"description text-center",children:p.Z.t("landingPage:second-section.description-container.second-description.description")})]})}),(0,r.jsx)("div",{className:"col-12 col-md content-wrapper m-md-0 my-4",children:(0,r.jsxs)("div",{className:"wrapper",children:[(0,r.jsx)("div",{className:"content-img",children:(0,r.jsx)("img",{src:"".concat("https://cdn.jsdelivr.net/gh/leapvn/family-tree-web-public@2.0.0","/icons/second-section-3.png"),alt:"Google play logo",width:"100%"})}),(0,r.jsx)("h3",{className:"title text-center",children:p.Z.t("landingPage:second-section.description-container.third-description.title")}),(0,r.jsx)("p",{className:"description text-center",children:p.Z.t("landingPage:second-section.description-container.third-description.description")})]})})]})})]}),(0,r.jsxs)("section",{id:"third-section",children:[(0,r.jsx)("div",{className:"third-section-title align-items-center d-flex flex-column mx-auto",children:(0,r.jsx)("h2",{className:"title text-center",children:p.Z.t("landingPage:third-section.title")})}),(0,r.jsx)("div",{className:"third-section-description",children:(0,r.jsxs)("div",{className:"row mx-auto",children:[(0,r.jsx)("div",{className:"col-12 col-sm-6 col-lg content-wrapper px my-3",children:(0,r.jsxs)("div",{className:"wrapper",children:[(0,r.jsx)("div",{className:"content-img",children:(0,r.jsx)("img",{src:"".concat("https://cdn.jsdelivr.net/gh/leapvn/family-tree-web-public@2.0.0","/icons/third-section-1.png"),alt:"Google play logo",width:"56px"})}),(0,r.jsx)("div",{className:"title",children:p.Z.t("landingPage:third-section.description-container.first-description.title")}),(0,r.jsx)("div",{className:"description text-jusitfy",children:p.Z.t("landingPage:third-section.description-container.first-description.description")})]})}),(0,r.jsx)("div",{className:"col-12 col-sm-6 col-lg content-wrapper px my-3",children:(0,r.jsxs)("div",{className:"wrapper",children:[(0,r.jsx)("div",{className:"content-img",children:(0,r.jsx)("img",{src:"".concat("https://cdn.jsdelivr.net/gh/leapvn/family-tree-web-public@2.0.0","/icons/third-section-2.png"),alt:"Google play logo",width:"56px"})}),(0,r.jsx)("div",{className:"title",children:p.Z.t("landingPage:third-section.description-container.second-description.title")}),(0,r.jsx)("div",{className:"description ",children:p.Z.t("landingPage:third-section.description-container.second-description.description")})]})}),(0,r.jsx)("div",{className:"col-12 col-sm-6 col-lg content-wrapper px my-3",children:(0,r.jsxs)("div",{className:"wrapper",children:[(0,r.jsx)("div",{className:"content-img",children:(0,r.jsx)("img",{src:"".concat("https://cdn.jsdelivr.net/gh/leapvn/family-tree-web-public@2.0.0","/icons/third-section-3.png"),alt:"Google play logo",width:"56px"})}),(0,r.jsx)("div",{className:"title",children:p.Z.t("landingPage:third-section.description-container.third-description.title")}),(0,r.jsx)("div",{className:"description ",children:p.Z.t("landingPage:third-section.description-container.third-description.description")})]})}),(0,r.jsx)("div",{className:"col-12 col-sm-6 col-lg content-wrapper px my-3",children:(0,r.jsxs)("div",{className:"wrapper",children:[(0,r.jsx)("div",{className:"content-img",children:(0,r.jsx)("img",{src:"".concat("https://cdn.jsdelivr.net/gh/leapvn/family-tree-web-public@2.0.0","/icons/third-section-4.png"),alt:"Google play logo",width:"56px"})}),(0,r.jsx)("div",{className:"title",children:p.Z.t("landingPage:third-section.description-container.fourth-description.title")}),(0,r.jsx)("div",{className:"description ",children:p.Z.t("landingPage:third-section.description-container.fourth-description.description")})]})})]})})]}),(0,r.jsx)("img",{src:"".concat("https://cdn.jsdelivr.net/gh/leapvn/family-tree-web-public@2.0.0","/icons/curve.png"),className:"curve w-100"}),(0,r.jsx)("section",{id:"fourth-section",children:(0,r.jsx)("div",{className:"text-center",children:(0,r.jsx)("img",{src:"".concat("https://cdn.jsdelivr.net/gh/leapvn/family-tree-web-public@2.0.0","/icons/fourth-section.png"),alt:"Google play logo",width:"100%"})})}),(0,r.jsx)("section",{id:"fifth-section",children:(0,r.jsxs)("div",{className:"fifth-section-title row mx-auto align-items-center title",children:[(0,r.jsx)("div",{className:"title col-12 col-lg-4 text-lg-left text-center",children:(0,r.jsx)("h2",{children:p.Z.t("landingPage:fifth-section.title")})}),(0,r.jsx)("div",{className:"description col-12 col-lg text-lg-right text-center mt-lg-0 mt-5",children:(0,r.jsx)("img",{src:"".concat("https://cdn.jsdelivr.net/gh/leapvn/family-tree-web-public@2.0.0","/icons/fifth-section.png"),alt:"Google play logo",width:"100%"})})]})}),(0,r.jsx)("img",{className:"inverse-curve w-100",src:"".concat("https://cdn.jsdelivr.net/gh/leapvn/family-tree-web-public@2.0.0","/icons/inverse-curve.png")}),(0,r.jsxs)("section",{id:"sixth-section",children:[(0,r.jsx)("div",{className:"title text-center",children:(0,r.jsx)("h2",{children:p.Z.t("landingPage:sixth-section.title")})}),(0,r.jsxs)("div",{className:"row mx-auto align-items-center description",children:[(0,r.jsx)("div",{className:"col-lg-8 col-12 text-right",children:(0,r.jsx)("img",{src:"".concat("https://cdn.jsdelivr.net/gh/leapvn/family-tree-web-public@2.0.0","/icons/sixth-section.svg"),alt:"Google play logo",width:"100%"})}),(0,r.jsxs)("div",{className:"col-lg col-12 mt-lg-0 mt-3 text-lg-left text-center",children:[(0,r.jsx)("h3",{children:p.Z.t("landingPage:sixth-section.description")}),(0,r.jsx)("button",{className:"btn btn-success",onClick:function(){var e=document.querySelector(".form-wrapper");e&&(e.style.display="block"),window.scrollTo(0,0)},children:p.Z.t("landingPage:sixth-section.start-btn")})]})]})]})]})};function J(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,s)}return n}function H(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?J(Object(n),!0).forEach((function(t){(0,s.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):J(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Q=function(){(0,o.Z)().t;var e,t,n,s={name:"",email:"",message:""},i=(0,L.cI)({defaultValues:s}),c=i.register,l=i.handleSubmit,d=i.formState.errors,m=i.reset,u=(0,a.useState)(!1),h=u[0],g=u[1],f=function(){var e=(0,j.Z)(x().mark((function e(t){return x().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return g(!1),e.prev=1,e.next=4,F().post("".concat("","/api/feedback"),t);case 4:e.sent,g(!0),m(s),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(1),console.error(e.t0);case 12:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(t){return e.apply(this,arguments)}}();return(0,r.jsxs)("footer",{children:[(0,r.jsx)("div",{className:"big-footer-wrapper",id:"big-footer",children:(0,r.jsx)("div",{className:"big-footer",children:(0,r.jsxs)("div",{className:"row",children:[(0,r.jsxs)("div",{className:"col-12 col-md mr-5",children:[(0,r.jsxs)("div",{className:"row",children:[(0,r.jsxs)("div",{className:"col-12 col-sm col-md-12 col-lg mb-4",children:[(0,r.jsx)("div",{className:"footer-title mb-2",children:p.Z.t("footer.contact")}),(0,r.jsx)("div",{className:"footer-info my-1",children:(0,r.jsxs)("div",{className:"justify-content-center align-items-center d-inline-flex",children:[(0,r.jsx)("img",{width:20,height:20,src:"".concat("https://cdn.jsdelivr.net/gh/leapvn/family-tree-web-public@2.0.0","/icons/sms.png")}),(0,r.jsx)("div",{className:"ml-2 info",children:"info@myroot.vn"})]})}),(0,r.jsx)("div",{className:"footer-info my-1",children:(0,r.jsxs)("div",{className:"justify-content-center align-items-center d-inline-flex",children:[(0,r.jsx)("img",{width:20,height:20,src:"".concat("https://cdn.jsdelivr.net/gh/leapvn/family-tree-web-public@2.0.0","/icons/call.png")}),(0,r.jsx)("div",{className:"ml-2 info",children:"+84 28 62863889"})]})})]}),(0,r.jsxs)("div",{className:"col-12 col-sm col-md-12 col-lg mb-4",children:[(0,r.jsx)("div",{className:"footer-title mb-2",children:p.Z.t("footer.follow-us")}),(0,r.jsxs)("div",{className:"footer-info my-1",children:[(0,r.jsx)("a",{className:"justify-content-center align-items-center d-inline-flex mx-1",href:"https://www.facebook.com/www.leap.vn",children:(0,r.jsx)("img",{width:20,height:20,src:"".concat("https://cdn.jsdelivr.net/gh/leapvn/family-tree-web-public@2.0.0","/icons/facebook.png")})}),(0,r.jsx)("a",{className:"justify-content-center align-items-center d-inline-flex mx-1",href:"https://www.linkedin.com/company/leap-vn",children:(0,r.jsx)("img",{width:20,height:20,src:"".concat("https://cdn.jsdelivr.net/gh/leapvn/family-tree-web-public@2.0.0","/icons/linkedin.png")})})]})]})]}),(0,r.jsx)("div",{className:"footer-title mb-2",children:p.Z.t("footer.your-company")}),(0,r.jsx)("div",{className:"footer-info my-1",children:(0,r.jsxs)("div",{className:"justify-content-center align-items-center d-inline-flex",children:[(0,r.jsx)("img",{width:20,height:20,src:"".concat("https://cdn.jsdelivr.net/gh/leapvn/family-tree-web-public@2.0.0","/icons/clock.png")}),(0,r.jsx)("div",{className:"ml-2 info",children:p.Z.t("footer.working-time")})]})}),(0,r.jsx)("div",{className:"footer-info my-1",children:(0,r.jsxs)("div",{className:"justify-content-center d-inline-flex",children:[(0,r.jsx)("img",{width:20,height:20,src:"".concat("https://cdn.jsdelivr.net/gh/leapvn/family-tree-web-public@2.0.0","/icons/location.png")}),(0,r.jsx)("div",{className:"ml-2 info",children:p.Z.t("footer.first-address")})]})}),(0,r.jsx)("div",{className:"footer-info my-1",children:(0,r.jsxs)("div",{className:"justify-content-center d-inline-flex",children:[(0,r.jsx)("img",{width:20,height:20,src:"".concat("https://cdn.jsdelivr.net/gh/leapvn/family-tree-web-public@2.0.0","/icons/location.png")}),(0,r.jsx)("div",{className:"ml-2 info",children:p.Z.t("footer.second-address")})]})})]}),(0,r.jsxs)("div",{className:"col-12 col-md ml-md-5 mt-md-0 mt-4",children:[(0,r.jsx)("div",{className:"footer-title mb-2",children:p.Z.t("footer.send-message")}),h&&(0,r.jsx)("div",{className:"alert alert-success",children:p.Z.t("footer.feedback.success")}),(0,r.jsxs)("form",{onSubmit:l(f),className:"feedback-form",children:[(0,r.jsxs)("div",{className:"form-wrapper",children:[(0,r.jsx)("input",H({type:"text",className:"form-control",name:"name",id:"name","data-cy":"name",placeholder:p.Z.t("footer.feedback.name")},c("name",{required:!0}))),"required"===(null===d||void 0===d||null===(e=d.name)||void 0===e?void 0:e.type)&&(0,r.jsx)(K,{message:p.Z.t("footer.feedback.validation.required")})]}),(0,r.jsxs)("div",{className:"form-wrapper",children:[(0,r.jsx)("input",H({type:"text",className:"form-control",name:"email",id:"email",placeholder:p.Z.t("footer.feedback.email")},c("email",{required:!0}))),"required"===(null===d||void 0===d||null===(t=d.email)||void 0===t?void 0:t.type)&&(0,r.jsx)(K,{message:p.Z.t("footer.feedback.validation.required")})]}),(0,r.jsxs)("div",{className:"form-wrapper",children:[(0,r.jsx)("textarea",H({rows:5,className:"form-control",name:"message",id:"message","data-cy":"message",placeholder:p.Z.t("footer.feedback.message")},c("message",{required:!0}))),"required"===(null===d||void 0===d||null===(n=d.message)||void 0===n?void 0:n.type)&&(0,r.jsx)(K,{message:p.Z.t("footer.feedback.validation.required")})]}),(0,r.jsx)("button",{className:"btn btn-success",type:"submit",children:p.Z.t("footer.feedback.send-btn")})]})]})]})})}),(0,r.jsx)("div",{className:"small-footer d-flex justify-content-center align-items-center",children:(0,r.jsx)("div",{children:p.Z.t("footer.right")})})]})}}}]);